# スクリーンショット命名規則

作成日: 2025-09-01  
バージョン: 1.0.0

## 📁 フォルダ構造規則

```
{日付}_テスト実行/
└── スクリーンショット/
    ├── {番号}_{機能カテゴリ}/
    │   └── {検証項目ID}_{項目名}/
    │       └── {連番}_{画面説明}.png
    └── 00_共通/
        └── {連番}_{共通画面名}.png
```

## 🏷️ 命名規則詳細

### 1. 機能カテゴリフォルダ
- **形式**: `{番号}_{機能名}`
- **例**: 
  - `01_認証機能`
  - `02_シミュレーター機能`
  - `03_サブスクリプション`

### 2. 検証項目フォルダ
- **形式**: `{検証項目ID}_{簡潔な説明}`
- **例**:
  - `L001_正常ログイン`
  - `S001_正常サインアップ`
  - `U001_Stripe決済`

### 3. スクリーンショットファイル名
- **形式**: `{連番}_{画面状態}.png`
- **連番**: 01から始まる2桁の数字（実行順序を表す）
- **例**:
  - `01_ログイン画面表示.png`
  - `02_認証情報入力後.png`
  - `03_ダッシュボード遷移.png`

## 📝 検証項目IDマッピング

### 認証機能（L: Login, S: Signup, P: Password）
| ID | 説明 |
|----|------|
| L001-L010 | ログイン機能 |
| S001-S010 | サインアップ機能 |
| P001-P008 | パスワードリセット |
| A001-A006 | 認証状態管理 |

### シミュレーター機能（F: Form, C: Calculation）
| ID | 説明 |
|----|------|
| F001-F010 | 入力フォーム検証 |
| C001-C010 | 計算ロジック検証 |
| CF001-CF010 | キャッシュフロー表 |

### サブスクリプション機能（U: Upgrade, W: Webhook, C: Cancel）
| ID | 説明 |
|----|------|
| U001-U010 | アップグレード処理 |
| W001-W008 | Webhook処理 |
| C001-C009 | 解約処理 |

## 🎯 ベストプラクティス

### DO ✅
- 検証項目IDを必ず含める
- 連番で時系列を明確にする
- 日本語で分かりやすい説明を付ける
- PNGフォーマットで統一

### DON'T ❌
- タイムスタンプだけのファイル名
- 空白を含むファイル名（アンダースコアを使用）
- 長すぎるファイル名（30文字以内推奨）
- 特殊文字の使用

## 📊 フォルダ構造例

```
250901_テスト実行/
└── スクリーンショット/
    ├── 01_認証機能/
    │   ├── L001_正常ログイン/
    │   │   ├── 01_ログイン画面表示.png
    │   │   ├── 02_認証情報入力後.png
    │   │   └── 03_ダッシュボード遷移.png
    │   ├── L002_無効メール/
    │   │   └── 01_エラーメッセージ表示.png
    │   └── L005_空欄送信/
    │       └── 01_バリデーションエラー.png
    └── 00_共通/
        └── 01_トップページ.png
```

## 🔄 Playwright設定例

```javascript
// playwright.config.ts
use: {
  screenshot: {
    mode: 'only-on-failure',
    fullPage: true
  },
  video: 'retain-on-failure',
  
  // カスタムスクリーンショット保存
  screenshotPath: ({ testInfo }) => {
    const testId = testInfo.title.match(/\[(\w+)\]/)?.[1] || 'unknown';
    const date = new Date().toISOString().split('T')[0].replace(/-/g, '');
    return `${date}_テスト実行/スクリーンショット/${testId}/${testInfo.title}.png`;
  }
}
```

## 📌 運用ルール

1. **日次でフォルダ作成**
   - 毎日新しい日付フォルダを作成
   - 前日の構造をコピーして利用

2. **失敗時のみ保存**
   - 成功時のスクリーンショットは最小限
   - エラー時は詳細に記録

3. **定期的な整理**
   - 1週間以上前の成功スクリーンショットは削除
   - 重要なエラーは別途保管

## 更新履歴

| 日付 | バージョン | 更新内容 |
|------|-----------|---------|
| 2025-09-01 | 1.0.0 | 初版作成 |