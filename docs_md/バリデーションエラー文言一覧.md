# バリデーションエラー文言一覧

## 概要
このドキュメントは、収益シミュレーターのバリデーションエラーで表示される文言の一覧です。

## 問題点
現在、フィールド名がスネークケース（例: `interest_rate`）のまま表示されているため、ユーザーにとってわかりにくい状態です。

---

## 1. 必須フィールドのエラー

### 文字列フィールド

| フィールド名（内部） | 現在の表示 | 推奨される表示 | 備考 |
|---|---|---|---|
| property_name | property_nameは必須項目です | 物件名は必須項目です | 最大100文字 |
| location | locationは必須項目です | 所在地は必須項目です | 最大200文字 |

### 数値フィールド（必須）

| フィールド名（内部） | 現在の表示 | 推奨される表示 | 範囲 |
|---|---|---|---|
| purchase_price | purchase_price（万円）は必須項目です | 購入価格は必須項目です | 1〜100,000万円 |
| monthly_rent | monthly_rent（円）は必須項目です | 月間賃料収入は必須項目です | 0〜100,000,000円 |
| loan_amount | loan_amount（万円）は必須項目です | 借入金額は必須項目です | 0〜100,000万円 |
| loan_years | loan_years（年）は必須項目です | 借入期間は必須項目です | 1〜50年 |
| interest_rate | interest_rate（%）は必須項目です | 借入金利は必須項目です | 0〜20% |
| holding_years | holding_years（年）は必須項目です | 保有期間は必須項目です | 1〜50年 |
| building_area | building_area（㎡）は必須項目です | 建物面積は必須項目です | 1〜100,000㎡ |

---

## 2. 範囲エラー（数値の最小値・最大値）

### 必須フィールド

| フィールド名（内部） | 現在の表示（最小値） | 現在の表示（最大値） | 推奨される表示 |
|---|---|---|---|
| purchase_price | purchase_price（万円）は1以上で入力してください | purchase_price（万円）は100000以下で入力してください | 購入価格は1万円以上100,000万円以下で入力してください |
| monthly_rent | monthly_rent（円）は0以上で入力してください | monthly_rent（円）は100000000以下で入力してください | 月間賃料収入は0円以上100,000,000円以下で入力してください |
| loan_amount | loan_amount（万円）は0以上で入力してください | loan_amount（万円）は100000以下で入力してください | 借入金額は0万円以上100,000万円以下で入力してください |
| loan_years | loan_years（年）は1以上で入力してください | loan_years（年）は50以下で入力してください | 借入期間は1年以上50年以下で入力してください |
| interest_rate | interest_rate（%）は0以上で入力してください | interest_rate（%）は20以下で入力してください | 借入金利は0%以上20%以下で入力してください |
| holding_years | holding_years（年）は1以上で入力してください | holding_years（年）は50以下で入力してください | 保有期間は1年以上50年以下で入力してください |
| building_area | building_area（㎡）は1以上で入力してください | building_area（㎡）は100000以下で入力してください | 建物面積は1㎡以上100,000㎡以下で入力してください |

### 任意フィールド

| フィールド名（内部） | 現在の表示（最小値） | 現在の表示（最大値） | 推奨される表示 | 範囲 |
|---|---|---|---|---|
| management_fee | management_fee（円）は0以上で入力してください | management_fee（円）は10000000以下で入力してください | 管理費は0円以上10,000,000円以下で入力してください | 0〜10,000,000円 |
| fixed_cost | fixed_cost（円）は0以上で入力してください | fixed_cost（円）は10000000以下で入力してください | 修繕積立金は0円以上10,000,000円以下で入力してください | 0〜10,000,000円 |
| property_tax | property_tax（円）は0以上で入力してください | property_tax（円）は50000000以下で入力してください | 固定資産税は0円以上50,000,000円以下で入力してください | 0〜50,000,000円 |
| other_costs | other_costs（万円）は0以上で入力してください | other_costs（万円）は50000以下で入力してください | 諸経費は0万円以上50,000万円以下で入力してください | 0〜50,000万円 |
| renovation_cost | renovation_cost（万円）は0以上で入力してください | renovation_cost（万円）は50000以下で入力してください | 改装費は0万円以上50,000万円以下で入力してください | 0〜50,000万円 |
| down_payment_ratio | down_payment_ratio（%）は0以上で入力してください | down_payment_ratio（%）は100以下で入力してください | 頭金比率は0%以上100%以下で入力してください | 0〜100% |
| vacancy_rate | vacancy_rate（%）は0以上で入力してください | vacancy_rate（%）は100以下で入力してください | 空室率は0%以上100%以下で入力してください | 0〜100% |
| effective_tax_rate | effective_tax_rate（%）は0以上で入力してください | effective_tax_rate（%）は100以下で入力してください | 実効税率は0%以上100%以下で入力してください | 0〜100% |
| land_area | land_area（㎡）は0以上で入力してください | land_area（㎡）は100000以下で入力してください | 土地面積は0㎡以上100,000㎡以下で入力してください | 0〜100,000㎡ |
| road_price | road_price（円/㎡）は0以上で入力してください | road_price（円/㎡）は100000000以下で入力してください | 路線価は0円/㎡以上100,000,000円/㎡以下で入力してください | 0〜100,000,000円/㎡ |
| year_built | year_built（年）は1900以上で入力してください | year_built（年）は2035以下で入力してください | 築年は1900年以上2035年以下で入力してください | 1900〜2035年 |
| expected_sale_price | expected_sale_price（万円）は0以上で入力してください | expected_sale_price（万円）は100000以下で入力してください | 想定売却価格は0万円以上100,000万円以下で入力してください | 0〜100,000万円 |
| market_value | market_value（万円）は0以上で入力してください | market_value（万円）は100000以下で入力してください | 市場価格は0万円以上100,000万円以下で入力してください | 0〜100,000万円 |
| exit_cap_rate | exit_cap_rate（%）は0以上で入力してください | exit_cap_rate（%）は100以下で入力してください | 出口還元利回りは0%以上100%以下で入力してください | 0〜100% |
| price_decline_rate | price_decline_rate（%）は0以上で入力してください | price_decline_rate（%）は100以下で入力してください | 価格下落率は0%以上100%以下で入力してください | 0〜100% |
| rent_decline | rent_decline（%/年）は0以上で入力してください | rent_decline（%/年）は100以下で入力してください | 賃料下落率は0%/年以上100%/年以下で入力してください | 0〜100%/年 |
| major_repair_cycle | major_repair_cycle（年）は0以上で入力してください | major_repair_cycle（年）は50以下で入力してください | 大規模修繕周期は0年以上50年以下で入力してください | 0〜50年 |
| major_repair_cost | major_repair_cost（万円）は0以上で入力してください | major_repair_cost（万円）は50000以下で入力してください | 大規模修繕費用は0万円以上50,000万円以下で入力してください | 0〜50,000万円 |
| building_price | building_price（万円）は0以上で入力してください | building_price（万円）は100000以下で入力してください | 建物価格は0万円以上100,000万円以下で入力してください | 0〜100,000万円 |
| depreciation_years | depreciation_years（年）は1以上で入力してください | depreciation_years（年）は50以下で入力してください | 減価償却年数は1年以上50年以下で入力してください | 1〜50年 |

---

## 3. 選択式フィールドのエラー

| フィールド名（内部） | 現在の表示 | 推奨される表示 | 許可値 |
|---|---|---|---|
| loan_type | 借入形式は['元利均等', '元金均等']のいずれかを選択してください | 借入形式は「元利均等」または「元金均等」を選択してください | 元利均等, 元金均等 |
| property_type | 建物構造は['木造', '軽量鉄骨造', '重量鉄骨造', 'RC造', 'SRC造']のいずれかを選択してください | 建物構造は「木造」「軽量鉄骨造」「重量鉄骨造」「RC造」「SRC造」のいずれかを選択してください | 木造, 軽量鉄骨造, 重量鉄骨造, RC造, SRC造 |
| ownership_type | 所有形態は['個人', '法人']のいずれかを選択してください | 所有形態は「個人」または「法人」を選択してください | 個人, 法人 |

---

## 4. 文字列長・形式エラー

| フィールド名（内部） | 現在の表示 | 推奨される表示 | 備考 |
|---|---|---|---|
| property_name | property_nameは100文字以下で入力してください | 物件名は100文字以下で入力してください | 最大100文字 |
| location | locationは200文字以下で入力してください | 所在地は200文字以下で入力してください | 最大200文字 |
| property_url | property_urlは500文字以下で入力してください | 物件URLは500文字以下で入力してください | 最大500文字 |
| property_memo | property_memoは1000文字以下で入力してください | 物件メモは1000文字以下で入力してください | 最大1000文字 |

---

## 5. HTMLタグ検出エラー

| フィールド名（内部） | 現在の表示 | 推奨される表示 |
|---|---|---|
| property_name | property_nameにHTMLタグは使用できません | 物件名にHTMLタグは使用できません |
| location | locationにHTMLタグは使用できません | 所在地にHTMLタグは使用できません |
| property_url | property_urlにHTMLタグは使用できません | 物件URLにHTMLタグは使用できません |
| property_memo | property_memoにHTMLタグは使用できません | 物件メモにHTMLタグは使用できません |

---

## 6. URL検証エラー

| フィールド名（内部） | 現在の表示 | 推奨される表示 |
|---|---|---|
| property_url | 許可されていないプロトコルです | URLには「http://」または「https://」で始まるアドレスを入力してください |

---

## 7. 画像検証エラー

| フィールド名（内部） | 現在の表示 | 推奨される表示 |
|---|---|---|
| property_image_base64 | 画像データの形式が正しくありません | 画像データの形式が正しくありません（JPEG、PNG、GIF、WebP形式のみ対応） |
| property_image_base64 | 許可されていない画像形式です | 対応している画像形式はJPEG、PNG、GIF、WebPのみです |
| property_image_base64 | 画像サイズが大きすぎます（5MB以下にしてください） | 画像サイズが大きすぎます（5MB以下にしてください） |

---

## 8. 数値形式エラー

| エラー内容 | 現在の表示 | 推奨される表示 |
|---|---|---|
| 数値以外が入力された | {field}は数値で入力してください | {日本語フィールド名}は数値で入力してください |

---

## 対応方針

### 短期対応（優先度：高）
1. **フィールド名の日本語化**: スネークケース（`interest_rate`）を日本語（`借入金利`）に変換
2. **選択肢の表示改善**: Pythonリスト形式（`['元利均等', '元金均等']`）を読みやすい形式に変換

### 中期対応（優先度：中）
3. **範囲エラーの統合**: 最小値と最大値のエラーを1つのメッセージに統合（例: 「1万円以上100,000万円以下で入力してください」）
4. **単位の明確化**: カンマ区切りの追加（例: 「100,000万円」）

### 長期対応（優先度：低）
5. **文脈に応じたヘルプ**: エラーメッセージに加えて、正しい入力例を表示

---

## 実装ファイル

- **バックエンド**: `/workspaces/real-estate-app/backend/simulator-api/validations.py`
- **フロントエンド**: `/workspaces/real-estate-app/bolt_front/src/pages/Simulator.tsx`

---

## エラーコード一覧

| エラーコード | 説明 |
|---|---|
| E4001 | 必須フィールド未入力 |
| E4002 | 入力値が範囲外 |
| E4003 | HTMLタグ検出 |
| E4004 | URL形式エラー |
| E4005 | 文字列長超過 |
| E4006 | 画像サイズ超過 |
| E4007 | 形式エラー（一般） |

---

最終更新: 2025-10-12
