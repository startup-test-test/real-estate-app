
# リファクタリング課題管理シート

## プロジェクト概要
不動産投資シミュレーションアプリのコードベース整理とリファクタリング

---

| No | カテゴリー | 課題内容 | 優先度 | 想定される影響 | 改善案 | ステータス | Git状況 |
|----|-----------|---------|---------|--------------|---------|-----------|---------| 
| 1 | ファイル削除 | frontendディレクトリが使用されていない | 高 | コードベースの混乱、メンテナンス性の低下 | ・/frontend/ディレクトリ全体を削除<br>・残存する古い実装コードの除去 | ✅完了 | 🚀 7d44902 |
| 2 | コード重複 | bolt_frontとfrontendで機能重複 | 高 | 開発効率の低下、バグ混入リスク | ・古いfrontend実装の完全削除<br>・bolt_frontへの一本化確認 | ✅完了 | 🚀 7d44902 |
| 3 | API統合 | backend内のAPI構成の整理 | 中 | API呼び出しの複雑化 | ・simulator-apiとproperty-apiの役割明確化<br>・未使用APIエンドポイントの削除 | ✅完了 | 🚀 7d44902 |
| 4 | 環境設定 | 環境変数の重複管理 | 中 | 設定ミス、デプロイエラーのリスク | ・.env.exampleファイルの統合<br>・設定ファイルの一元管理 | ✅完了 | 🚀 7d44902 |
| 5 | 依存関係 | node_modulesの重複インストール | 低 | ビルド時間の増加、容量無駄 | ・ルートレベルとbolt_frontの依存関係整理<br>・不要な依存関係の削除 | ✅完了 | 🚀 416375f |
| 6 | TypeScript | 型定義の統合と最適化 | 中 | 型安全性の向上、開発効率向上 | ・重複する型定義の統合<br>・未使用型の削除<br>・型定義ファイルの整理 | ✅完了 | 🚀 21887f4 |
| 7 | コンポーネント | 未使用コンポーネントの確認 | 低 | コードベースの肥大化 | ・実際に使用されていないコンポーネントの特定<br>・デッドコードの削除 | ✅完了 | 🚀 c4569ea |
| 8 | ビルド設定 | ビルド設定の最適化 | 低 | ビルド時間の短縮、バンドルサイズ削減 | ・Vite設定の最適化<br>・未使用アセットの除去 | ✅完了 | 🚀 c4569ea |
| 9 | ドキュメント | 古いドキュメントの整理 | 低 | 開発者の混乱、情報の不整合 | ・現在のアーキテクチャに合わせたドキュメント更新<br>・古い仕様書の削除または更新 | ✅完了 | 🚀 dfd9079 |

## 追加削除候補ファイル（2025/6/27 追加調査）

| No | カテゴリー | 削除対象ファイル | 優先度 | 削除理由 | 削除による影響 | ステータス |
|----|-----------|-----------------|--------|----------|---------------|-----------|
| 10 | ビルドファイル | bolt_front/dist/（全体） | 高 | 開発時自動生成ファイル | なし（npm run buildで再生成） | ✅完了 |
| 11 | 未実装ドキュメント | bolt_front/README-MLIT.md | 中 | MLIT API機能未実装のドキュメント | なし（参照されていない） | ✅完了 |
| 12 | 古いデプロイ設定 | ルートレベルrender.yaml | 中 | backend/simulator-api/render.yamlが実際使用 | なし（別設定ファイル使用） | ✅完了 |
| 13 | 古いPython設定 | ルートレベルrequirements.txt | 中 | 各APIディレクトリの個別ファイル使用 | なし（個別設定使用） | ✅完了 |
| 14 | 古いPython設定 | ルートレベルruntime.txt | 中 | render.yamlと設定矛盾 | なし（render.yaml優先） | ✅完了 |
| 15 | 未使用Streamlit | backend/simulator-api/streamlit_ui.py | 低 | FastAPI使用でStreamlit未使用 | なし（未使用ファイル） | ✅完了 |

### 追加削除候補の説明
- **削除推奨効果**: プロジェクトサイズ約5-10MB削減、保守性向上
- **参考キャプチャー/**: 開発参考用フォルダのため保持
- **削除優先順**: No.10 → No.12-14 → No.11 → No.15の順で実施推奨

---

## ステータス凡例
- ✅ **完了**: 実装・確認済み
- 🔄 **進行中**: 作業実施中
- ⏳ **未着手**: これから実施予定
- ❌ **実施せず**: 技術的制約や方針により実施しない
- ⚠️ **要検討**: 実施可否を慎重に検討中

---

## 優先度別サマリー

### 🔴 高優先度 (2件)
1. frontendディレクトリの削除
2. コード重複の解消

### 🟡 中優先度 (3件)  
3. API構成の整理
4. 環境設定の統合
6. TypeScript型定義の最適化

### 🟢 低優先度 (4件)
5. 依存関係の整理
7. 未使用コンポーネントの確認
8. ビルド設定の最適化
9. ドキュメント整理

---

## 実施手順

### Phase 1: クリティカルな削除・整理
1. frontendディレクトリの安全な削除
2. コード重複の確認と除去

### Phase 2: 構成の最適化
3. API構成の整理と統合
4. 環境設定の一元化
6. TypeScript型定義の統合

### Phase 3: 細部の最適化
5. 依存関係の最適化
7. デッドコードの除去
8. ビルド設定の調整
9. ドキュメント更新

---

## 次のアクション
**即座に実施可能**: No.1 frontendディレクトリの削除
**準備完了**: すべてのタスクが特定済み、順次実施可能