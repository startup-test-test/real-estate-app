# 開発環境用 .htaccess

# SPAのルーティング設定
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /dev/
    RewriteRule ^index\.html$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /dev/index.html [L]
</IfModule>

# HTTPSへのリダイレクト
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# セキュリティ設定
<Files ~ "^\.env">
    Order allow,deny
    Deny from all
</Files>

# セキュリティヘッダー
Header set X-Content-Type-Options "nosniff"
Header set X-Frame-Options "SAMEORIGIN"
Header set X-XSS-Protection "1; mode=block"

# Basic認証（開発環境保護）
# 以下のコメントを外して使用
# AuthType Basic
# AuthName "Development Site"
# AuthUserFile /home/your-username/.htpasswd
# Require valid-user